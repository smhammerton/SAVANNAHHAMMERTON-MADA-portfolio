<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Visualization</title>

<script src="site_libs/header-attrs-2.10/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/sandstone.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  { color: #cccccc; background-color: #303030; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ffcfaf; } /* Alert */
code span.an { color: #7f9f7f; font-weight: bold; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #dca3a3; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #f0dfaf; } /* ControlFlow */
code span.ch { color: #dca3a3; } /* Char */
code span.cn { color: #dca3a3; font-weight: bold; } /* Constant */
code span.co { color: #7f9f7f; } /* Comment */
code span.cv { color: #7f9f7f; font-weight: bold; } /* CommentVar */
code span.do { color: #7f9f7f; } /* Documentation */
code span.dt { color: #dfdfbf; } /* DataType */
code span.dv { color: #dcdccc; } /* DecVal */
code span.er { color: #c3bf9f; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #c0bed1; } /* Float */
code span.fu { color: #efef8f; } /* Function */
code span.im { } /* Import */
code span.in { color: #7f9f7f; font-weight: bold; } /* Information */
code span.kw { color: #f0dfaf; } /* Keyword */
code span.op { color: #f0efd0; } /* Operator */
code span.ot { color: #efef8f; } /* Other */
code span.pp { color: #ffcfaf; font-weight: bold; } /* Preprocessor */
code span.sc { color: #dca3a3; } /* SpecialChar */
code span.ss { color: #cc9393; } /* SpecialString */
code span.st { color: #cc9393; } /* String */
code span.va { } /* Variable */
code span.vs { color: #cc9393; } /* VerbatimString */
code span.wa { color: #7f9f7f; font-weight: bold; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>







<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">My Data Analysis Portfolio</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="./aboutme.html">About Me</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Projects
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="./rcoding.html">R Coding</a>
    </li>
    <li>
      <a href="./visualization.html">Visualization</a>
    </li>
    <li>
      <a href="./tidytuesday.html">Tidy Tuesday</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="URL-TO-THIS-REPOSITORY-HERE">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Visualization</h1>

</div>


<p>For this exercise, I will be [attempting to] recreate a figure I found at <a href="https://fivethirtyeight.com/features/marriage-isnt-dead-yet/">fivethirtyeight.com</a>. Here is the <a href="https://github.com/fivethirtyeight/data/tree/master/marriage">link to the data</a> if you want to try recreating it as well!</p>
<div id="getting-started" class="section level2">
<h2>Getting Started</h2>
<p>Here is the figure I want to recreate.</p>
<div class="figure">
<img src="marriage_figure.png" style="width:70.0%" alt="" />
<p class="caption"><em>My chosen figure to replicate</em></p>
</div>
<p>First, I need to load the packages I’ll need to complete this exercise.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># package loading </span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) <span class="co"># for analysis and plotting</span></span></code></pre></div>
<pre><code>## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──</code></pre>
<pre><code>## ✓ ggplot2 3.3.5     ✓ purrr   0.3.4
## ✓ tibble  3.1.4     ✓ dplyr   1.0.7
## ✓ tidyr   1.1.3     ✓ stringr 1.4.0
## ✓ readr   2.0.1     ✓ forcats 0.5.1</code></pre>
<pre><code>## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(cowplot) <span class="co"># for combining plots into one figure </span></span></code></pre></div>
<p>Now I need to import the data set for the figure I want to recreate and set is as a new object.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#import dataset and set to new object </span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>marriage <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&#39;marriage/both_sexes.csv&#39;</span>)</span></code></pre></div>
<pre><code>## New names:
## * `` -&gt; ...1</code></pre>
<pre><code>## Rows: 17 Columns: 75</code></pre>
<pre><code>## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: &quot;,&quot;
## dbl  (74): ...1, year, all_2534, HS_2534, SC_2534, BAp_2534, BAo_2534, GD_25...
## date  (1): date</code></pre>
<pre><code>## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(marriage) <span class="co"># take a lot at the first bit of the dataset </span></span></code></pre></div>
<pre><code>## Rows: 17
## Columns: 75
## $ ...1             &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16…
## $ year             &lt;dbl&gt; 1960, 1970, 1980, 1990, 2000, 2001, 2002, 2003, 2004,…
## $ date             &lt;date&gt; 1960-01-01, 1970-01-01, 1980-01-01, 1990-01-01, 2000…
## $ all_2534         &lt;dbl&gt; 0.1233145, 0.1269715, 0.1991767, 0.2968306, 0.3450087…
## $ HS_2534          &lt;dbl&gt; 0.1095332, 0.1094000, 0.1617313, 0.2777491, 0.3316545…
## $ SC_2534          &lt;dbl&gt; 0.1522818, 0.1495096, 0.2236916, 0.2780912, 0.3249205…
## $ BAp_2534         &lt;dbl&gt; 0.2389952, 0.2187031, 0.2881646, 0.3612968, 0.3874906…
## $ BAo_2534         &lt;dbl&gt; 0.2389952, 0.2187031, 0.2881646, 0.3656655, 0.3939579…
## $ GD_2534          &lt;dbl&gt; NA, NA, NA, 0.3474505, 0.3691740, 0.3590304, 0.351284…
## $ White_2534       &lt;dbl&gt; 0.1164848, 0.1179043, 0.1824126, 0.2639256, 0.3127149…
## $ Black_2534       &lt;dbl&gt; 0.1621855, 0.1855163, 0.3137500, 0.4838556, 0.5144994…
## $ Hisp_2534        &lt;dbl&gt; 0.1393736, 0.1298769, 0.1885440, 0.2962372, 0.3180681…
## $ NE_2534          &lt;dbl&gt; 0.1504184, 0.1517231, 0.2414327, 0.3500384, 0.4091852…
## $ MA_2534          &lt;dbl&gt; 0.1628934, 0.1640680, 0.2505925, 0.3623321, 0.4175565…
## $ Midwest_2534     &lt;dbl&gt; 0.1121467, 0.1153741, 0.1828339, 0.2755046, 0.3308022…
## $ South_2534       &lt;dbl&gt; 0.1090562, 0.1126220, 0.1688435, 0.2639794, 0.3099712…
## $ Mountain_2534    &lt;dbl&gt; 0.09152117, 0.10293602, 0.17434230, 0.25264326, 0.306…
## $ Pacific_2534     &lt;dbl&gt; 0.1198758, 0.1374964, 0.2334279, 0.3319579, 0.3753061…
## $ poor_2534        &lt;dbl&gt; 0.1371597, 0.1717202, 0.3100591, 0.4199108, 0.5033676…
## $ mid_2534         &lt;dbl&gt; 0.07514929, 0.08159207, 0.14825303, 0.24320008, 0.302…
## $ rich_2534        &lt;dbl&gt; 0.2066776, 0.1724093, 0.1851082, 0.2783226, 0.2717386…
## $ all_3544         &lt;dbl&gt; 0.07058157, 0.06732520, 0.06883378, 0.11191800, 0.156…
## $ HS_3544          &lt;dbl&gt; 0.06860309, 0.06511964, 0.06429102, 0.11210043, 0.169…
## $ SC_3544          &lt;dbl&gt; 0.06663695, 0.06271724, 0.06531333, 0.09699372, 0.138…
## $ BAp_3544         &lt;dbl&gt; 0.1326265, 0.1116899, 0.1056102, 0.1285172, 0.1541238…
## $ BAo_3544         &lt;dbl&gt; 0.1326265, 0.1116899, 0.1056102, 0.1258567, 0.1536299…
## $ GD_3544          &lt;dbl&gt; NA, NA, NA, 0.1328018, 0.1550970, 0.1595169, 0.158009…
## $ White_3544       &lt;dbl&gt; 0.06825586, 0.06250372, 0.05966739, 0.09611312, 0.132…
## $ Black_3544       &lt;dbl&gt; 0.08836728, 0.10290904, 0.13140081, 0.22010298, 0.302…
## $ Hisp_3544        &lt;dbl&gt; 0.07307651, 0.07070500, 0.08110790, 0.12194206, 0.154…
## $ NE_3544          &lt;dbl&gt; 0.09194322, 0.08570110, 0.07997323, 0.12785915, 0.173…
## $ MA_3544          &lt;dbl&gt; 0.09347468, 0.09040725, 0.09744428, 0.14354989, 0.188…
## $ Midwest_3544     &lt;dbl&gt; 0.06863360, 0.06156272, 0.06070641, 0.10157576, 0.145…
## $ South_3544       &lt;dbl&gt; 0.06026353, 0.05966057, 0.05914089, 0.09637035, 0.142…
## $ Mountain_3544    &lt;dbl&gt; 0.04739747, 0.04651163, 0.04880077, 0.09189904, 0.135…
## $ Pacific_3544     &lt;dbl&gt; 0.05822486, 0.06347796, 0.07552538, 0.13134638, 0.174…
## $ poor_3544        &lt;dbl&gt; 0.1019749, 0.1117548, 0.1291426, 0.2012208, 0.2813137…
## $ mid_3544         &lt;dbl&gt; 0.04717272, 0.04566838, 0.05050321, 0.09024739, 0.128…
## $ rich_3544        &lt;dbl&gt; 0.08553870, 0.06499159, 0.04445951, 0.06573916, 0.086…
## $ all_4554         &lt;dbl&gt; 0.07254649, 0.05968794, 0.05250871, 0.05947824, 0.088…
## $ HS_4554          &lt;dbl&gt; 0.06840792, 0.05833439, 0.05036563, 0.05988244, 0.094…
## $ SC_4554          &lt;dbl&gt; 0.07903755, 0.05443478, 0.04816180, 0.04654087, 0.075…
## $ BAp_4554         &lt;dbl&gt; 0.15360889, 0.10466047, 0.08623774, 0.07301884, 0.092…
## $ BAo_4554         &lt;dbl&gt; 0.15360889, 0.10466047, 0.08623774, 0.06416529, 0.090…
## $ GD_4554          &lt;dbl&gt; NA, NA, NA, 0.08394886, 0.09362802, 0.09362876, 0.101…
## $ White_4554       &lt;dbl&gt; 0.07246692, 0.05754799, 0.04765354, 0.05092552, 0.075…
## $ Black_4554       &lt;dbl&gt; 0.06913249, 0.07899168, 0.08624602, 0.11617699, 0.175…
## $ Hisp_4554        &lt;dbl&gt; 0.06636058, 0.05810740, 0.06522951, 0.07613556, 0.094…
## $ NE_4554          &lt;dbl&gt; 0.10236412, 0.08028082, 0.06930253, 0.07047502, 0.102…
## $ MA_4554          &lt;dbl&gt; 0.09264788, 0.07860635, 0.07508466, 0.08373134, 0.112…
## $ Midwest_4554     &lt;dbl&gt; 0.07285321, 0.05791163, 0.04807290, 0.05398391, 0.083…
## $ South_4554       &lt;dbl&gt; 0.05977295, 0.05174462, 0.04485348, 0.05043636, 0.076…
## $ Mountain_4554    &lt;dbl&gt; 0.04754183, 0.03970134, 0.03374438, 0.04459411, 0.076…
## $ Pacific_4554     &lt;dbl&gt; 0.05996993, 0.04826312, 0.04958992, 0.06461875, 0.098…
## $ poor_4554        &lt;dbl&gt; 0.1030055, 0.1016489, 0.1003011, 0.1148335, 0.1718976…
## $ mid_4554         &lt;dbl&gt; 0.05364421, 0.04221637, 0.03830266, 0.04562332, 0.070…
## $ rich_4554        &lt;dbl&gt; 0.07908591, 0.05142867, 0.03311296, 0.03136386, 0.038…
## $ nokids_all_2534  &lt;dbl&gt; 0.4640564, 0.4309043, 0.4464304, 0.5425242, 0.5714531…
## $ kids_all_2534    &lt;dbl&gt; 0.002820625, 0.009868596, 0.025285667, 0.060277451, 0…
## $ nokids_HS_2534   &lt;dbl&gt; 0.4430148, 0.4246779, 0.4319342, 0.5464881, 0.5711395…
## $ nokids_SC_2534   &lt;dbl&gt; 0.5000402, 0.4333479, 0.4505900, 0.5238446, 0.5700042…
## $ nokids_BAp_2534  &lt;dbl&gt; 0.5619099, 0.4554766, 0.4719700, 0.5560765, 0.5729677…
## $ nokids_BAo_2534  &lt;dbl&gt; 0.5619099, 0.4554766, 0.4719700, 0.5633301, 0.5862213…
## $ nokids_GD_2534   &lt;dbl&gt; NA, NA, NA, 0.5332628, 0.5367160, 0.5258800, 0.526189…
## $ kids_HS_2534     &lt;dbl&gt; 0.003318886, 0.012465915, 0.031930752, 0.078470444, 0…
## $ kids_SC_2534     &lt;dbl&gt; 0.001150824, 0.003699982, 0.018135401, 0.052032702, 0…
## $ kids_BAp_2534    &lt;dbl&gt; 0.0005751073, 0.0014683425, 0.0062544364, 0.017124104…
## $ kids_BAo_2534    &lt;dbl&gt; 0.0005751073, 0.0014683425, 0.0062544364, 0.018176602…
## $ kids_GD_2534     &lt;dbl&gt; NA, NA, NA, 0.01374234, 0.02761467, 0.02645041, 0.024…
## $ nokids_poor_2534 &lt;dbl&gt; 0.4933061, 0.5097742, 0.5740402, 0.6546908, 0.7055451…
## $ nokids_mid_2534  &lt;dbl&gt; 0.4100080, 0.3764538, 0.3998250, 0.5186604, 0.5690228…
## $ nokids_rich_2534 &lt;dbl&gt; 0.4921184, 0.4288948, 0.3848089, 0.4750156, 0.4458023…
## $ kids_poor_2534   &lt;dbl&gt; 0.008722711, 0.029974945, 0.077926214, 0.170763774, 0…
## $ kids_mid_2534    &lt;dbl&gt; 0.0007532065, 0.0033771145, 0.0102368871, 0.027465525…
## $ kids_rich_2534   &lt;dbl&gt; 0.0008027331, 0.0030435661, 0.0068317224, 0.018232912…</code></pre>
</div>
<div id="data-processing" class="section level2">
<h2>Data Processing</h2>
<p>There is a lot of information in this dataset, much of which I won’t need to create this figure, so I’m going to create another object only containing the data I need.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#create new object only containing the information needed to recreate figure </span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="co"># (year, education level, race information for 25-34 year olds)</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>mymarriage <span class="ot">&lt;-</span> marriage <span class="sc">%&gt;%</span> </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, all_2534, HS_2534, SC_2534, BAp_2534, BAo_2534, White_2534, Black_2534, Hisp_2534)</span></code></pre></div>
<p>In the raw data, the values are the relevant proportion of the population that has never been married. However, the figure I’m recreating is the the proportion that <em>has</em> been married, so I need to take the values, subtract them from one, and then for ease of plotting on a percent scale, I will multiply by 100.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">#change marriage rates from never married proportion to have been married percentage</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>mymarriaget <span class="ot">&lt;-</span> mymarriage <span class="sc">%&gt;%</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">HS_2534 =</span> (<span class="dv">1</span> <span class="sc">-</span> HS_2534) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SC_2534 =</span> (<span class="dv">1</span><span class="sc">-</span> SC_2534) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">BAp_2534 =</span> (<span class="dv">1</span> <span class="sc">-</span> BAp_2534) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">White_2534 =</span> (<span class="dv">1</span> <span class="sc">-</span> White_2534) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Black_2534 =</span> (<span class="dv">1</span> <span class="sc">-</span> Black_2534) <span class="sc">*</span> <span class="dv">100</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Hisp_2534 =</span> (<span class="dv">1</span> <span class="sc">-</span> Hisp_2534) <span class="sc">*</span> <span class="dv">100</span>)</span></code></pre></div>
</div>
<div id="plot-creation" class="section level2">
<h2>Plot Creation</h2>
<p>Now that I have my dataset set up the way I need it, I can go about creating my plots. The original figure is two plots in one figure, so I will create each plot individually and then combine them.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create plot of marriage rate by education status </span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>educ <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> mymarriaget, <span class="fu">aes</span>(<span class="at">x =</span> year)) <span class="sc">+</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> HS_2534, <span class="at">color =</span> <span class="st">&#39;deeppink4&#39;</span>)) <span class="sc">+</span> <span class="co"># high school or less</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> SC_2534, <span class="at">color =</span> <span class="st">&#39;deeppink3&#39;</span>)) <span class="sc">+</span> <span class="co"># some college</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> BAp_2534, <span class="at">color =</span> <span class="st">&#39;deeppink2&#39;</span>)) <span class="sc">+</span> <span class="co"># college graduates </span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">1960</span>, <span class="at">to =</span> <span class="dv">2012</span>, <span class="at">by =</span> <span class="dv">10</span>), <span class="co">#imiating x scale on original</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;1960&quot;</span>, <span class="st">&quot;&#39;70&quot;</span>, <span class="st">&quot;&#39;80&quot;</span>, <span class="st">&quot;&#39;90&quot;</span>, <span class="st">&quot;2000&quot;</span>, <span class="st">&quot;&#39;10&quot;</span>)) <span class="sc">+</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="dv">100</span>) <span class="sc">+</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title.x =</span> <span class="fu">element_blank</span>(), <span class="at">axis.title.y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_identity</span>(<span class="at">guide =</span> <span class="st">&#39;legend&#39;</span>, <span class="at">name =</span> <span class="st">&#39;Education Level&#39;</span>, <span class="co"># creating legend </span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>                       <span class="at">breaks =</span> <span class="fu">c</span>(<span class="st">&#39;deeppink2&#39;</span>, <span class="st">&#39;deeppink3&#39;</span>, <span class="st">&#39;deeppink4&#39;</span>),</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>                       <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&#39;College Graduates&#39;</span>, <span class="st">&#39;Some college&#39;</span>, <span class="st">&#39;High school or less&#39;</span>)) <span class="sc">+</span> </span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&#39;Marriage Rates by Education and Race&#39;</span>,<span class="st">&#39;Ages 25-34&#39;</span>) <span class="sc">+</span> <span class="co"># adding plot title </span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(.<span class="dv">75</span>, .<span class="dv">2</span>)) <span class="sc">+</span> <span class="co"># positioning legend on bottom right of plot</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.background =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span> <span class="co"># getting rid of legend box outline and fill </span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.key =</span> <span class="fu">element_blank</span>()) </span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>educ</span></code></pre></div>
<p><img src="visualization_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create plot of marriage rate by race - this will be done essentially the same way as the education graph, but I will not add a title to this one - having a title on the first graph in the combined figure will keep the title positioned in the top right as in the original figure </span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>race <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> mymarriaget, <span class="fu">aes</span>(<span class="at">x =</span> year)) <span class="sc">+</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> White_2534, <span class="at">color =</span> <span class="st">&#39;aquamarine3&#39;</span>)) <span class="sc">+</span> <span class="co">#white</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> Black_2534, <span class="at">color =</span> <span class="st">&#39;aquamarine4&#39;</span>)) <span class="sc">+</span> <span class="co"># black</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> Hisp_2534, <span class="at">color =</span> <span class="st">&#39;aquamarine2&#39;</span>)) <span class="sc">+</span> <span class="co">#hispanic</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">1960</span>, <span class="at">to =</span> <span class="dv">2012</span>, <span class="at">by =</span> <span class="dv">10</span>), <span class="co">#imitating x scale on original</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;1960&quot;</span>, <span class="st">&quot;&#39;70&quot;</span>, <span class="st">&quot;&#39;80&quot;</span>, <span class="st">&quot;&#39;90&quot;</span>, <span class="st">&quot;2000&quot;</span>, <span class="st">&quot;&#39;10&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="dv">100</span>) <span class="sc">+</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title.x =</span> <span class="fu">element_blank</span>(), <span class="at">axis.title.y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_identity</span>(<span class="at">guide =</span> <span class="st">&#39;legend&#39;</span>, <span class="at">name =</span> <span class="st">&#39;Race&#39;</span>,   <span class="co"># creating legend </span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>                       <span class="at">breaks =</span> <span class="fu">c</span>(<span class="st">&#39;aquamarine3&#39;</span>, <span class="st">&#39;aquamarine4&#39;</span>, <span class="st">&#39;aquamarine2&#39;</span>),</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>                       <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&#39;Non-Hispanic White&#39;</span>, <span class="st">&#39;Black&#39;</span>, <span class="st">&#39;Hispanic&#39;</span>)) <span class="sc">+</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="fu">c</span>(.<span class="dv">75</span>, .<span class="dv">2</span>)) <span class="sc">+</span> <span class="co"># positioning legend on bottom right of plot</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.background =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span>  <span class="co"># getting rid of legend box outline and fill </span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.key =</span> <span class="fu">element_blank</span>()) </span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>race</span></code></pre></div>
<p><img src="visualization_files/figure-html/unnamed-chunk-5-2.png" width="672" /></p>
</div>
<div id="plot-combination-and-figure-creation" class="section level2">
<h2>Plot Combination and Figure Creation</h2>
<p>Now that I have both of my plots created, I want to try and combine them into one figure, as that is how it was presented in the original figure.</p>
<p>To do this, I will use the <code>cowplot</code> package’s <code>plot_grid</code> function.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># combining my education and race plots into one figure, and aligning them both vertically and horizontally </span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>finalvis <span class="ot">&lt;-</span> <span class="fu">plot_grid</span>(educ, race, <span class="at">align =</span> <span class="st">&#39;hv&#39;</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>finalvis</span></code></pre></div>
<p><img src="visualization_files/figure-html/unnamed-chunk-6-1.png" width="768" /></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># saving figure</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>figurefile <span class="ot">=</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&#39;visualizationfigure.png&#39;</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span> figurefile, <span class="at">plot =</span> finalvis)</span></code></pre></div>
<pre><code>## Saving 8 x 4.96 in image</code></pre>
<div class="figure">
<img src="marriage_figure.png" style="width:70.0%" alt="" />
<p class="caption">Here is the original figure again as a comparison</p>
</div>
</div>
<div id="conclusions" class="section level2">
<h2>Conclusions</h2>
<p>The two figures are certainly not exactly the same, but I think I got decently close! I spent some time playing around with the <code>ggrepel</code> package, trying to use <code>geom_label_repel</code> to create the line labels like in the original graph, but the data was not in the quite the right format to use that without some serious manipulation, which seemed like it would maybe be a little overboard for this exercise, so I went with adding a legend.</p>
<p>This was a great exercise in experimenting with visualization tools in R and all the associated packages. I’m looking forward to continuing to develop these skills! As we’ve seen and discussed this week, data visualization can be a powerful tool for presenting and communicating results. I hope to improve in this skill so that any analyses I perform can reach their full potential impact when presented to others.</p>
</div>
<div id="take-two" class="section level2">
<h2>Take two!</h2>
<p>After seeing some of the successful code used by my classmates, I decided to try and get this a little closer to the original! The simplest improvement will be the use of the <code>ggthemes</code> function <code>theme_fivethirtyeight()</code> to apply a similar theme to the plots as their source. I will also use <code>annotate()</code> and <code>geom_segment()</code> to add the labels as in the original figure rather than using a legend.</p>
<p>Here we go with take two!</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load additional library to apply a closer theme to the original </span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggthemes)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;ggthemes&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:cowplot&#39;:
## 
##     theme_map</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create plot of marriage rate by education status using annotation </span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>educ2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> mymarriaget, <span class="fu">aes</span>(<span class="at">x =</span> year)) <span class="sc">+</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> HS_2534), <span class="at">color =</span> <span class="st">&#39;deeppink4&#39;</span>) <span class="sc">+</span> <span class="co"># high school or less </span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&#39;text&#39;</span>, <span class="at">x =</span> <span class="dv">1975</span>, <span class="at">y =</span> <span class="dv">98</span>, <span class="co"># add  high school label</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">&#39;High school or less&#39;</span>) <span class="sc">+</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">1975</span>, <span class="at">xend =</span> <span class="dv">1975</span>, <span class="at">y =</span> <span class="dv">86</span>, <span class="at">yend =</span> <span class="dv">95</span>), <span class="co"># add high school label line</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> <span class="st">&#39;black&#39;</span>) <span class="sc">+</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> SC_2534), <span class="at">color =</span> <span class="st">&#39;deeppink3&#39;</span>) <span class="sc">+</span> <span class="co"># some college</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&#39;text&#39;</span>, <span class="at">x =</span> <span class="dv">1983</span>, <span class="at">y =</span> <span class="dv">45</span>,</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">&#39;Some college&#39;</span>) <span class="sc">+</span> <span class="co"># add some college label</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">1983</span>, <span class="at">xend =</span> <span class="dv">1983</span>, <span class="at">y =</span> <span class="dv">76</span>, <span class="at">yend =</span> <span class="dv">48</span>),</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> <span class="st">&#39;black&#39;</span>) <span class="sc">+</span> <span class="co"># add some college label line</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> BAp_2534), <span class="at">color =</span> <span class="st">&#39;deeppink2&#39;</span>) <span class="sc">+</span> <span class="co"># college graduates </span></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&#39;text&#39;</span>, <span class="at">x =</span> <span class="dv">1967</span>, <span class="at">y =</span> <span class="dv">64</span>,</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">&#39;College graduates&#39;</span>) <span class="sc">+</span> <span class="co">#add college grad label</span></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">1967</span>, <span class="at">xend =</span> <span class="dv">1967</span>, <span class="at">y =</span> <span class="dv">67</span>, <span class="at">yend =</span> <span class="fl">76.8</span>),</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> <span class="st">&#39;black&#39;</span>) <span class="sc">+</span> <span class="co"># add college grad label line</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">1960</span>, <span class="at">to =</span> <span class="dv">2012</span>, <span class="at">by =</span> <span class="dv">10</span>), <span class="co">#imitating x scale on original</span></span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;1960&quot;</span>, <span class="st">&quot;&#39;70&quot;</span>, <span class="st">&quot;&#39;80&quot;</span>, <span class="st">&quot;&#39;90&quot;</span>, <span class="st">&quot;2000&quot;</span>, <span class="st">&quot;&#39;10&quot;</span>)) <span class="sc">+</span></span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="dv">100</span>) <span class="sc">+</span></span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&#39;Marriage Rates by Education and Race&#39;</span>,<span class="st">&#39;Ages 25-34&#39;</span>) <span class="sc">+</span> <span class="co"># adding plot title </span></span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.title.x =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_fivethirtyeight</span>()</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>educ2</span></code></pre></div>
<p><img src="visualization_files/figure-html/unnamed-chunk-7-1.png" width="768" /></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create plot of marriage rate by race using annotation </span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>race2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> mymarriaget, <span class="fu">aes</span>(<span class="at">x =</span> year)) <span class="sc">+</span></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> White_2534), <span class="at">color =</span> <span class="st">&#39;aquamarine3&#39;</span>) <span class="sc">+</span> <span class="co">#white</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&#39;text&#39;</span>, <span class="at">x =</span> <span class="dv">1968</span>, <span class="at">y =</span> <span class="dv">98</span>,</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">&#39;Non-Hispanic White&#39;</span>) <span class="sc">+</span> <span class="co"># add white label</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">1964</span>, <span class="at">xend =</span> <span class="dv">1964</span>, <span class="at">y =</span> <span class="dv">88</span>, <span class="at">yend =</span> <span class="dv">95</span>), <span class="co"># add white label line</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> <span class="st">&#39;black&#39;</span>) <span class="sc">+</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> Black_2534), <span class="at">color =</span> <span class="st">&#39;aquamarine4&#39;</span>) <span class="sc">+</span> <span class="co"># black</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&#39;text&#39;</span>, <span class="at">x =</span> <span class="dv">1994</span>, <span class="at">y =</span> <span class="dv">43</span>, <span class="co"># add black label</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">&#39;Black&#39;</span>) <span class="sc">+</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">1994</span>, <span class="at">xend =</span> <span class="dv">1994</span>, <span class="at">y =</span> <span class="dv">50</span>, <span class="at">yend =</span> <span class="dv">45</span>),</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> <span class="st">&#39;black&#39;</span>) <span class="sc">+</span> <span class="co"># add black label line</span></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y =</span> Hisp_2534), <span class="at">color =</span> <span class="st">&#39;aquamarine2&#39;</span>) <span class="sc">+</span> <span class="co">#hispanic</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&#39;text&#39;</span>, <span class="at">x =</span> <span class="dv">1992</span>, <span class="at">y =</span> <span class="dv">83</span>,</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>           <span class="at">label =</span> <span class="st">&#39;Hispanic&#39;</span>) <span class="sc">+</span> <span class="co">#add hispanic label</span></span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">1992</span>, <span class="at">xend =</span> <span class="dv">1992</span>, <span class="at">y =</span> <span class="dv">70</span>, <span class="at">yend =</span> <span class="dv">80</span>),</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>               <span class="at">color =</span> <span class="st">&#39;black&#39;</span>) <span class="sc">+</span> <span class="co"># add hispanic label line </span></span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">1960</span>, <span class="at">to =</span> <span class="dv">2012</span>, <span class="at">by =</span> <span class="dv">10</span>), <span class="co">#imitating x scale on original</span></span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;1960&quot;</span>, <span class="st">&quot;&#39;70&quot;</span>, <span class="st">&quot;&#39;80&quot;</span>, <span class="st">&quot;&#39;90&quot;</span>, <span class="st">&quot;2000&quot;</span>, <span class="st">&quot;&#39;10&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="dv">100</span>) <span class="sc">+</span></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb24-23"><a href="#cb24-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_blank</span>()) <span class="sc">+</span></span>
<span id="cb24-24"><a href="#cb24-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_fivethirtyeight</span>() </span>
<span id="cb24-25"><a href="#cb24-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-26"><a href="#cb24-26" aria-hidden="true" tabindex="-1"></a>race2</span></code></pre></div>
<p><img src="visualization_files/figure-html/unnamed-chunk-7-2.png" width="768" /></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># combining my education and race plots into one figure, and aligning them both vertically and horizontally </span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>finalvis2 <span class="ot">&lt;-</span> <span class="fu">plot_grid</span>(educ2, race2, <span class="at">align =</span> <span class="st">&#39;hv&#39;</span>) <span class="sc">+</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_fivethirtyeight</span>()</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>finalvis2</span></code></pre></div>
<p><img src="visualization_files/figure-html/unnamed-chunk-8-1.png" width="1056" /></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># saving new figure</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>figurefile2 <span class="ot">=</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&#39;visualizationfigure2.png&#39;</span>)</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">filename =</span> figurefile2, <span class="at">plot =</span> finalvis2)</span></code></pre></div>
<pre><code>## Saving 11 x 8.8 in image</code></pre>
<p>Here’s the original one more time for reference! <img src="marriage_figure.png" style="width:70.0%" alt="Closer!" /></p>
<p>I’m happier with this one! There are definitely still some differences, but I think the labeling vs. the legend and the addition of the theme helped a lot. I’m happy I was able to learn more to get this closer!</p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
